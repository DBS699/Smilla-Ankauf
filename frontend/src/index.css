@import url('https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

body {
    margin: 0;
    font-family: 'Manrope', -apple-system, BlinkMacSystemFont, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

code {
    font-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New", monospace;
}

/* Font utilities */
.font-display {
    font-family: 'Oswald', sans-serif;
}

.font-body {
    font-family: 'Manrope', sans-serif;
}

@layer base {
    :root {
        --background: 45 9% 97%;
        --foreground: 200 30% 26%;
        --card: 0 0% 100%;
        --card-foreground: 200 30% 26%;
        --popover: 0 0% 100%;
        --popover-foreground: 200 30% 26%;
        --primary: 200 30% 26%;
        --primary-foreground: 0 0% 100%;
        --secondary: 210 40% 96%;
        --secondary-foreground: 215 25% 27%;
        --muted: 210 40% 96%;
        --muted-foreground: 215 16% 47%;
        --accent: 210 40% 96%;
        --accent-foreground: 200 30% 26%;
        --destructive: 0 84% 60%;
        --destructive-foreground: 0 0% 100%;
        --border: 214 32% 91%;
        --input: 0 0% 100%;
        --ring: 200 30% 26%;
        --chart-1: 12 76% 61%;
        --chart-2: 173 58% 39%;
        --chart-3: 197 37% 24%;
        --chart-4: 43 74% 66%;
        --chart-5: 27 87% 67%;
        --radius: 0.5rem;
    }
}

@layer base {
    * {
        @apply border-border;
    }

    body {
        @apply bg-background text-foreground;
    }
}

/* Paper texture background */
.paper-bg {
    background-color: #f8f9fa;
}

/* Light mode - clean white/light gray */
.light-mode {
    background-color: #f5f5f5 !important;
}

/* Dark mode - proper dark theme */
.dark-mode {
    background-color: #121212 !important;
    color: #e0e0e0 !important;
}

.dark-mode header,
.dark-mode .bg-white,
.dark-mode [class*="bg-white"] {
    background-color: #1e1e1e !important;
    border-color: #333 !important;
    color: #e0e0e0 !important;
}

.dark-mode .bg-muted\/50,
.dark-mode .bg-muted,
.dark-mode [class*="bg-muted"] {
    background-color: #2a2a2a !important;
}

.dark-mode .text-primary,
.dark-mode h1,
.dark-mode h2,
.dark-mode h3 {
    color: #ffffff !important;
}

.dark-mode .text-muted-foreground,
.dark-mode p {
    color: #a0a0a0 !important;
}

.dark-mode .border,
.dark-mode [class*="border"] {
    border-color: #444 !important;
}

.dark-mode .category-card,
.dark-mode .sidebar-shadow,
.dark-mode [class*="rounded-xl"],
.dark-mode [class*="rounded-lg"] {
    background-color: #1e1e1e !important;
    border-color: #444 !important;
    color: #e0e0e0 !important;
}

.dark-mode .category-card:hover {
    background-color: #2a2a2a !important;
}

.dark-mode button[class*="outline"] {
    background-color: #1e1e1e !important;
    border-color: #555 !important;
    color: #e0e0e0 !important;
}

.dark-mode button[class*="outline"]:hover {
    background-color: #2a2a2a !important;
}

/* Price tag styling */
.price-tag {
    background-color: #FEF08A;
    color: hsl(200, 30%, 26%);
}

/* Touch-friendly buttons */
.touch-btn {
    min-height: 56px;
    transition: transform 0.1s ease;
}

.touch-btn:active {
    transform: scale(0.97);
}

/* Receipt styling */
.receipt-font {
    font-family: 'Oswald', monospace;
}

/* Print styles - Optimized for Epson TM-m30II (80mm thermal printer) */
@media print {

    /* Hardwire 80mm paper width, remove all margins and headers/footers */
    @page {
        size: 80mm auto;
        /* 80mm width, auto height */
        margin: 0;
    }

    body * {
        visibility: hidden;
    }

    .print-area,
    .print-area * {
        visibility: visible;
    }

    .print-area {
        position: absolute;
        left: 0;
        top: 0;
        width: 80mm !important;
        /* Enforce 80mm width */
        max-width: 80mm !important;
        margin: 0 !important;
        padding: 2mm !important;
        /* CRITICAL: Reset any scale transform for print */
        transform: none !important;
        transform-origin: top left !important;
    }

    /* Boost font sizes for thermal print readability */
    .print-area .store-name {
        font-size: 16pt !important;
    }

    .print-area .receipt-title {
        font-size: 14pt !important;
    }

    .print-area .receipt-items,
    .print-area .receipt-item {
        font-size: 11pt !important;
    }

    .print-area .receipt-total {
        font-size: 14pt !important;
    }

    .print-area .receipt-footer {
        font-size: 10pt !important;
    }

    .no-print {
        display: none !important;
    }
}

/* Scrollbar styling */
::-webkit-scrollbar {
    width: 6px;
}

::-webkit-scrollbar-track {
    background: hsl(210, 40%, 96%);
}

::-webkit-scrollbar-thumb {
    background: hsl(200, 30%, 26%);
    border-radius: 3px;
}

/* Animation utilities */
@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.animate-slide-up {
    animation: slideUp 0.2s ease-out;
}

/* Vertical slider styling */
[data-orientation="vertical"] {
    height: 100%;
    width: 20px;
}

[data-orientation="vertical"] [role="slider"] {
    height: 24px;
    width: 24px;
}

/* Button text overflow fix - ensure buttons fit their content */
.level-btn,
.condition-btn {
    white-space: nowrap;
    min-width: fit-content;
}

/* Ensure grid buttons have consistent width */
.grid-btn-equal {
    min-width: 0;
    width: 100%;
}

/* ======================= */
/* RESPONSIVE IMPROVEMENTS */
/* ======================= */

/* Mobile-first card padding */
.stats-card {
    padding: 0.75rem;
}

@media (min-width: 640px) {
    .stats-card {
        padding: 1rem;
    }
}

/* Better touch targets on mobile */
@media (max-width: 640px) {
    .touch-btn {
        min-height: 52px;
    }

    /* Smaller text in stats cards */
    .stats-card .font-display {
        font-size: 1.25rem;
    }

    /* Responsive table cells */
    .history-table td,
    .history-table th {
        padding: 0.5rem;
        font-size: 0.875rem;
    }

    .category-card {
        min-height: 120px;
        padding: 0.75rem;
    }

    .category-card span {
        font-size: 0.75rem;
    }

    /* Dialog improvements */
    .level-btn {
        min-height: 60px;
    }

    /* Cart items compact view */
    .cart-item {
        padding: 0.5rem;
    }

    /* Header spacing */
    header .container {
        padding-left: 0.75rem;
        padding-right: 0.75rem;
    }
}

/* Tablet view optimizations */
@media (min-width: 641px) and (max-width: 1024px) {
    .category-card {
        min-height: 110px;
    }

    /* Better spacing for tablet sidebar */
    .sidebar-shadow {
        padding: 1rem;
    }
}

/* Sidebar shadow effect */
.sidebar-shadow {
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
}